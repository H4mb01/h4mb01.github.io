(function(e){function t(t){for(var n,s,i=t[0],c=t[1],l=t[2],u=0,d=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);m&&m(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,s=1;s<a.length;s++){var i=a[s];0!==r[i]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},s={app:0},r={app:0},o=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"808e572e"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={about:1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=new Promise((function(t,a){for(var n="css/"+({about:"about"}[e]||e)+"."+{about:"9d7f2122"}[e]+".css",r=c.p+n,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var l=o[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===r))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===n||u===r)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete s[e],m.parentNode.removeChild(m),a(o)},m.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(m)})).then((function(){s[e]=0})));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(m);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",d.name="ChunkLoadError",d.type=n,d.request=s,a[1](d)}r[e]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var m=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"1f7e":function(e,t,a){"use strict";a("b0bc")},2082:function(e,t,a){},3393:function(e,t,a){},"4fc5":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],o=(a("034f"),a("2877")),i={},c=Object(o["a"])(i,s,r,!1,null,null,null),l=c.exports,u=a("9483");Object(u["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("d3b7"),a("3ca3"),a("ddb0");var d=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wuppern"},[a("router-link",{staticClass:"help",attrs:{to:"/help",target:"_blank"}},[e._v("?")]),e._e(),a("Spielfeld")],1)},h=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"spielfeld"},[""===e.room?a("JoinGame",{attrs:{create:e.create},on:{"change-room":function(t){return e.changeRoom(t)},"toggle-create-game":function(t){return e.toggleCreateGame()},"create-game":function(t){return e.createGame(t)}}}):e._e(),e.isLoggedIn||""===e.room?e._e():a("div",[a("div",{staticClass:"joinContainer"},[a("button",{attrs:{id:"logout"},on:{click:function(t){return e.logout()}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.usernameInput,expression:"usernameInput"}],attrs:{type:"text",name:"name",id:"name",placeholder:"dein Name",maxlength:"12",autofocus:"",required:""},domProps:{value:e.usernameInput},on:{input:[function(t){t.target.composing||(e.usernameInput=t.target.value)},function(t){return e.joinPossible()}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.joinGame("player")}}}),a("p",{staticClass:"possible"},[e._v(e._s(this.possibleText))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.stay,expression:"stay"}],attrs:{type:"checkbox",name:"stay",id:"stay"},domProps:{checked:Array.isArray(e.stay)?e._i(e.stay,null)>-1:e.stay},on:{change:function(t){var a=e.stay,n=t.target,s=!!n.checked;if(Array.isArray(a)){var r=null,o=e._i(a,r);n.checked?o<0&&(e.stay=a.concat([r])):o>-1&&(e.stay=a.slice(0,o).concat(a.slice(o+1)))}else e.stay=s}}}),a("label",{staticClass:"stay",attrs:{for:"stay"}},[e._v("eingeloggt bleiben?")]),a("br"),a("button",{attrs:{id:"play"},on:{click:function(t){return e.joinGame("player")}}},[e._v("Spielen")]),a("button",{attrs:{id:"watch"},on:{click:function(t){return e.joinGame("watcher")}}},[e._v("Zuschauen")])])]),e.isLoggedIn&&!e.isStarted?a("div",[a("button",{attrs:{id:"logout"},on:{click:function(t){return e.logout()}}}),a("div",{staticClass:"players"},e._l(e.players,(function(t){return a("div",{key:t,staticClass:"player"},[a("div",{staticClass:"avatar"}),a("div",{staticClass:"playername"},[e._v(e._s(t.name))])])})),0),a("button",{staticClass:"start",class:this.creator===this.username?"creator":"",on:{click:function(t){return e.startGame()}}},[e._v("Start")])]):e._e(),e.isLoggedIn&&e.isStarted&&!e.isEnded?a("div",[a("button",{attrs:{id:"logout"},on:{click:function(t){return e.logout()}}}),a("h1",[e._v("Runde "+e._s(e.runde.aktuell)+" / "+e._s(e.runde.maximal))]),a("p",[e.dran!==e.username?a("span",[e._v(" "+e._s(this.gamestate.anDerReihe)+" ")]):e._e(),e._v(" "),e.dran===e.username?a("span",[e._v("DU b")]):e._e(),e._v("ist an der Reihe. "),!e.ansagen.isAnsagen&&e.gesamtAngesagt<=e.ansagen.optionen[e.ansagen.optionen.length-1]?a("span",[e._v(" Es wird geschoben!")]):e._e(),!e.ansagen.isAnsagen&&e.gesamtAngesagt>e.ansagen.optionen[e.ansagen.optionen.length-1]?a("span",[e._v(" Es wird gekloppt!")]):e._e()]),a("div",{staticClass:"chat"},[e.isBigChat?e._e():a("button",{staticClass:"toggleChat",on:{click:function(t){return e.toggleChat()}}},[a("fa",{attrs:{icon:"comment"}}),e._v("chat ")],1),e.isBigChat?e._e():a("div",{staticClass:"lastmsg",on:{click:function(t){return e.toggleChat()}}},["___SYSTEM___"!==e.lastmsg.username?a("span",[e._v(" ["+e._s(e.lastmsg.username)+"]: ")]):e._e(),a("span",[e._v(" "+e._s(e.lastmsg.text)+" ")])]),e.isBigChat?a("input",{directives:[{name:"model",rawName:"v-model",value:e.chatInput,expression:"chatInput"}],attrs:{type:"text",name:"chatInput",id:"chatInput"},domProps:{value:e.chatInput},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendChatMessage(t)},input:function(t){t.target.composing||(e.chatInput=t.target.value)}}}):e._e(),e.isBigChat?a("button",{staticClass:"chatSend",on:{click:e.sendChatMessage}},[e._v("SENDEN")]):e._e(),a("div",{ref:"bigChat",staticClass:"bigChat",class:{chatActive:e.isBigChat}},[a("button",{staticClass:"closeChat",on:{click:function(t){return e.toggleChat()}}},[e._v("close")]),e._l(e.msg,(function(t){return a("div",{key:t.time,staticClass:"nachricht"},["___SYSTEM___"!==t.username?a("span",[e._v(" ["+e._s(t.username)+"]: ")]):e._e(),a("span",[e._v(" "+e._s(t.text)+" ")])])}))],2)]),a("div",{staticClass:"tisch"},[e.ansagen.isAnsagen?a("div",{staticClass:"ansagen",class:{spezial:1===e.runde.aktuell||e.runde.aktuell===e.runde.maximal}},[a("h2",[e._v(" "+e._s(e.ansagen.aktuell)+" muss ansagen! ")]),e.ansagen.aktuell===e.username?a("div",{staticClass:"moeglichkeitenContainer"},e._l(e.ansagen.optionen,(function(t){return a("div",{key:t,staticClass:"option",on:{click:function(a){return e.sagAn(t)}}},[e._v(" "+e._s(t)+" ")])})),0):e._e()]):e._e()]),a("Spieler",{attrs:{players:e.players,playedCards:e.playedCards,dran:e.dran,fuehrung:e.fuehrung,username:e.username}}),a("Handkarten",{attrs:{ownCards:e.ownCardsSortedInversed,ownCardsSorted:e.ownCardsSorted,sort:e.sort,dran:e.dran},on:{playCard:function(t){return e.playCard(t)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.sort,expression:"sort"}],attrs:{type:"checkbox",name:"sort",id:"sort"},domProps:{checked:Array.isArray(e.sort)?e._i(e.sort,null)>-1:e.sort},on:{change:function(t){var a=e.sort,n=t.target,s=!!n.checked;if(Array.isArray(a)){var r=null,o=e._i(a,r);n.checked?o<0&&(e.sort=a.concat([r])):o>-1&&(e.sort=a.slice(0,o).concat(a.slice(o+1)))}else e.sort=s}}}),a("label",{staticClass:"sort",attrs:{for:"sort"}}),e._m(0)],1):e._e(),e.isEnded?a("div",[a("button",{attrs:{id:"logout"},on:{click:function(t){return e.logout()}}}),a("div",{staticClass:"endscreen"},[e._v(" "+e._s(e.fuehrung)+" hat gewonnen! "),e._m(1),a("div",{staticClass:"platzierungcontainer"},e._l(e.platzierung,(function(t){return a("div",{key:t.name,staticClass:"platzierung"},[e._v(" Platz "+e._s(t.platz)+": "+e._s(t.name)+" ("+e._s(t.punkte)+") ")])})),0)])]):e._e()],1)},g=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cheatSheet"},[a("div",{staticClass:"cheatCard"},[e._v("A")]),a("div",{staticClass:"cheatCard"},[e._v("A")]),a("div",{staticClass:"cheatCard"},[e._v("A")]),a("div",{staticClass:"cheatCard"},[e._v("A")]),a("div",{staticClass:"cheatCard zehn"},[e._v("10")]),a("div",{staticClass:"cheatCard zehn"},[e._v("10")]),a("div",{staticClass:"cheatCard zehn"},[e._v("10")]),a("div",{staticClass:"cheatCard zehn"},[e._v("10")]),a("div",{staticClass:"cheatCard"},[e._v("K")]),a("div",{staticClass:"cheatCard"},[e._v("K")]),a("div",{staticClass:"cheatCard"},[e._v("K")]),a("div",{staticClass:"cheatCard"},[e._v("K")]),a("div",{staticClass:"cheatCard"},[e._v("D")]),a("div",{staticClass:"cheatCard"},[e._v("D")]),a("div",{staticClass:"cheatCard"},[e._v("D")]),a("div",{staticClass:"cheatCard"},[e._v("D")]),a("div",{staticClass:"cheatCard"},[e._v("B")]),a("div",{staticClass:"cheatCard"},[e._v("B")]),a("div",{staticClass:"cheatCard"},[e._v("B")]),a("div",{staticClass:"cheatCard"},[e._v("B")]),a("div",{staticClass:"cheatCard"},[e._v("9")]),a("div",{staticClass:"cheatCard"},[e._v("9")]),a("div",{staticClass:"cheatCard"},[e._v("9")]),a("div",{staticClass:"cheatCard"},[e._v("9")]),a("div",{staticClass:"cheatCard"},[e._v("8")]),a("div",{staticClass:"cheatCard"},[e._v("8")]),a("div",{staticClass:"cheatCard"},[e._v("8")]),a("div",{staticClass:"cheatCard"},[e._v("8")]),a("div",{staticClass:"cheatCard"},[e._v("7")]),a("div",{staticClass:"cheatCard"},[e._v("7")]),a("div",{staticClass:"cheatCard"},[e._v("7")]),a("div",{staticClass:"cheatCard"},[e._v("7")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pokal"},[e._v(" 1 "),a("div",{staticClass:"pokalfuss"})])}],f=a("5530"),v=(a("159b"),a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"kartencontainer"},[e.sort?e._e():a("div",{staticClass:"kartencontainer unsortiert"},e._l(e.ownCards,(function(t){return a("div",{key:t,staticClass:"karte",class:"♦"===t.farbe||"♥"===t.farbe?"rot":"schwarz",on:{click:function(a){return e.playCard(t)}}},[a("div",{staticClass:"oben"},[e._v(" "+e._s(t.zahl)+" "),a("i",{staticClass:"farbe"},[e._v(" "+e._s(t.farbe)+" ")])]),a("div",{staticClass:"mitte"},[e._v(" "+e._s(t.zahl))]),a("div",{staticClass:"mitteBackground"},[e._v(" "+e._s(t.farbe)+" ")]),a("div",{staticClass:"unten"},[e._v(" "+e._s(t.zahl)+" "),a("i",{staticClass:"farbe"},[e._v(" "+e._s(t.farbe)+" ")])])])})),0),e.sort?a("div",{staticClass:"kartencontainer sortiert"},e._l(e.ownCardsSorted,(function(t){return a("div",{key:t,staticClass:"karte",class:"♦"===t.farbe||"♥"===t.farbe?"rot":"schwarz",on:{click:function(a){return e.playCard(t)}}},[a("div",{staticClass:"oben"},[e._v(" "+e._s(t.zahl)+" "),a("i",{staticClass:"farbe"},[e._v(" "+e._s(t.farbe)+" ")])]),a("div",{staticClass:"mitte"},[e._v(" "+e._s(t.zahl))]),a("div",{staticClass:"mitteBackground"},[e._v(" "+e._s(t.farbe)+" ")]),a("div",{staticClass:"unten"},[e._v(" "+e._s(t.zahl)+" "),a("i",{staticClass:"farbe"},[e._v(" "+e._s(t.farbe)+" ")])])])})),0):e._e()])}),_=[],C={name:"Handkarten",props:{ownCards:Array,ownCardsSorted:Array,sort:Boolean,dran:String},data:function(){return{username:"Manuel"}},methods:{playCard:function(e){console.log({zahl:e.zahl,farbe:e.farbe}),this.$emit("playCard",e)},isred:function(e){return"♦"==e||"♥"==e?"{color: red}":"{color: purple}"}}},b=C,y=(a("67bd"),Object(o["a"])(b,v,_,!1,null,"e0fab74a",null)),k=y.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upper"},e._l(e.players,(function(t){return a("div",{key:t,staticClass:"spielercontainer"},[a("div",{staticClass:"avatar"},[a("div",{class:t.name===e.fuehrung?"führung":""})]),e.dran===t.name?a("div",{staticClass:"dran"},[e._v("DRAN")]):e._e(),a("div",{staticClass:"spieler"},[a("span",{staticClass:"b",class:{du:e.username===t.name}},[e._v(e._s(t.name))]),e._v(" "),a("br"),a("span",{staticClass:"b"},[e._v(" "+e._s(t.punkte)+" ")]),e._v(" ("),a("span",{class:t.aktuell===t.angesagt?"korrekt":"inkorrekt"},[e._v(e._s(t.aktuell))]),e._v("/"+e._s(t.angesagt)+") ")]),a("GespielteKarte",{attrs:{playedCards:e.playedCards,playerName:t.name}})],1)})),0)},S=[],I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gespielteKarte"},e._l(e.playedCards,(function(t){return a("div",{key:t},[t.player===e.playerName?a("div",{staticClass:"karte played",class:"♦"===t.farbe||"♥"===t.farbe?"rot":"schwarz"},[a("div",{staticClass:"oben"},[e._v(" "+e._s(t.zahl)+" "),a("i",{staticClass:"farbe"},[e._v(" "+e._s(t.farbe)+" ")])]),a("div",{staticClass:"mitte"},[e._v(" "+e._s(t.zahl)+" ")]),a("div",{staticClass:"mitteBackground"},[e._v(" "+e._s(t.farbe)+" ")]),a("div",{staticClass:"unten"},[e._v(" "+e._s(t.zahl)+" "),a("i",{staticClass:"farbe"},[e._v(" "+e._s(t.farbe)+" ")])])]):e._e()])})),0)},G=[],j={name:"GespielteKarte",props:{playedCards:Array,playerName:String}},E=j,A=(a("a9b8"),Object(o["a"])(E,I,G,!1,null,"02f44869",null)),x=A.exports,z={name:"Spieler",components:{GespielteKarte:x},props:{players:Array,playedCards:Array,dran:String,fuehrung:String,username:String},methods:{pointColor:function(e){return e.aktuell===e.angesagt?"green":e.aktuell>e.angesagt?"red":"yellow"}}},O=z,$=(a("99ea"),Object(o["a"])(O,w,S,!1,null,"1ab55510",null)),N=$.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"joinGame"},[a("button",{staticClass:"createGame",on:{click:function(t){return e.toggleCreateGame()}}},[e._v("+ Neues Spiel")]),a("button",{on:{click:function(t){return e.getAllGames()}}},[e._v("🗘 AKTUALISIEREN")]),a("GameOverview",{attrs:{create:e.create,allGames:e.allGames},on:{"change-room":function(t){return e.changeRoom(t)},"create-game":function(t){return e.createGame(t)}}})],1)},P=[],T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gameOverview"},[a("table",[e._m(0),e.create?a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.roomInput,expression:"roomInput"}],attrs:{type:"text",name:"roomInput",id:"roomInput",autofocus:""},domProps:{value:e.roomInput},on:{input:function(t){t.target.composing||(e.roomInput=t.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.nameInput,expression:"nameInput"}],attrs:{type:"text",name:"nameInput",id:"nameInput",placeholder:"dein Name",maxlength:"12"},domProps:{value:e.nameInput},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createGame()},input:function(t){t.target.composing||(e.nameInput=t.target.value)}}})]),a("td"),a("td",[a("button",{staticClass:"button",on:{click:function(t){return e.createGame()}}},[e._v("erstellen")])])]):e._e(),e._l(e.allGames,(function(t){return a("tr",{key:t.name},[a("td",[e._v(" "+e._s(t.room)+" ")]),a("td",[e._v(" "+e._s(t.players)+" ")]),t.isStarted?a("td",[e._v(" ✓ ")]):e._e(),t.isStarted?e._e():a("td",[e._v(" ✗ ")]),t.isStarted?e._e():a("td",[a("button",{staticClass:"button",on:{click:function(a){return e.room(t)}}},[e._v("mitspielen ⏩")])]),t.isStarted?a("td",[a("button",{staticClass:"button grau",on:{click:function(a){return e.room(t)}}},[e._v("zuschauen ⏩")])]):e._e()])}))],2),e.allGames[0]?e._e():a("div",[e._v(" derzeit gibt es kein laufendes Spiel, oder es konnte kein Spiel geladen werden. ")])])},R=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("Name des Spiels")]),a("th",[e._v("Spieler")]),a("th",[e._v("läuft")]),a("th",[e._v("mitspielen")])])}],D={name:"GameOverview",props:{allGames:Array,create:Boolean},data:function(){return{nameInput:"",roomInput:""}},methods:{room:function(e){this.$emit("change-room",e.room)},createGame:function(){console.log("create-game",this.roomInput,this.nameInput),this.$emit("create-game",{room:this.roomInput,name:this.nameInput})}}},L=D,M=(a("1f7e"),Object(o["a"])(L,T,R,!1,null,"7f220d33",null)),K=M.exports,H={name:"joinGame",components:{GameOverview:K},props:{create:Boolean},data:function(){return{allGames:[]}},methods:{getAllGames:function(){var e=this;fetch("https://wuppern.herokuapp.com/getAllGames",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){t.json().then((function(t){console.log(t),e.allGames=t.allGames}))}))},changeRoom:function(e){this.$emit("change-room",e)},toggleCreateGame:function(){this.$emit("toggle-create-game")},createGame:function(e){this.$emit("create-game",e)}},mounted:function(){this.getAllGames()},computed:{}},U=H,F=(a("a39b"),Object(o["a"])(U,B,P,!1,null,"5692df0a",null)),J=F.exports,q=a("8e27"),W=a.n(q),Y=a("2f62"),Z={name:"Spielfeld",components:{Handkarten:k,Spieler:N,JoinGame:J},props:{game:Object},data:function(){return{socket:{},create:!1,gamestate:{},usernameInput:"",username:"",isLoggedIn:!1,stay:!1,possible:!1,possibleText:"",room:"",runde:{},dran:"",fuehrung:"",creator:"",ansagen:{},gesamtAngesagt:0,reihenfolge:[],players:[],ownCards:[],ownCardsSorted:[],ownCardsSortedInversed:[],sort:!1,playedCards:[],platzierung:[],msg:[],lastmsg:{username:"SYSTEM",text:"Willkommen!",time:0},isBigChat:!1,chatInput:""}},created:function(){this.socket=W()("https://wuppern.herokuapp.com/")},mounted:function(){var e=this;localStorage.getItem("username")?(this.username=localStorage.getItem("username"),this.usernameInput=localStorage.getItem("username"),this.stay=!0,this.joinPossible()):(this.username="",this.usernameInput=""),this.socket.on("gamestate",(function(t){e.handleGamestate(t)})),this.socket.on("refresh",(function(t){t&&e.socket.emit("refresh",!0)})),this.socket.on("joinRoomError",(function(t){e.possibleText=t})),this.socket.on("isLoggedIn",(function(t){e.isLoggedIn=t})),this.game&&(this.room=this.$route.params),this.socket.on("joinRoom",(function(t,a){e.room=t,e.usernameInput=a,e.username=a,e.joinGame("player")})),this.socket.on("message",(function(t){e.msg.push(t),e.lastmsg=t}))},methods:Object(f["a"])(Object(f["a"])({playCard:function(e){this.socket.emit("playCard",this.room,this.username,e)}},Object(Y["b"])(["setGamestate"])),{},{joinPossible:function(){var e=this;fetch("https://wuppern.herokuapp.com/joinPossible",{method:"POST",body:JSON.stringify({room:this.room,name:this.usernameInput}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){t.json().then((function(t){e.possible=t.possible,e.possibleText=t.error}))})).catch((function(e){return console.log("Error: ",e)}))},joinGame:function(e){"player"===e?".watcher"!==this.usernameInput?(this.joinPossible(),this.possible?(this.socket.emit("joinRoom",this.usernameInput,this.room),this.socket.emit("addPlayer",this.usernameInput,this.room),this.username=this.usernameInput,!0===this.stay?localStorage.setItem("username",this.username):localStorage.removeItem("username")):console.log("can't join room")):this.possibleText="verbotener Name":"watcher"===e&&(this.socket.emit("joinRoom",".watcher",this.room),this.username=".watcher")},sortieren:function(e){for(var t={7:1,8:2,9:3,B:4,D:5,K:6,10:7,A:8},a={"♣":4,"♠":3,"♥":2,"♦":1},n=0;n<e.length;n++)for(var s=n+1;s<e.length;s++)if(console.log("i:",n,"j:",s),console.log(t[e[n].zahl],"<",t[e[s].zahl]),t[e[n].zahl]<t[e[s].zahl]){var r=e[s];e[s]=e[n],e[n]=r,console.log("karten getauscht")}else if(t[e[n].zahl]===t[e[s].zahl]&&a[e[n].farbe]<a[e[s].farbe]){var o=e[s];e[s]=e[n],e[n]=o,console.log("karten getauscht")}else console.log("keine karte getauscht");return console.log(e),e},handleGamestate:function(e){var t=this;if(e){var a=JSON.parse(e);this.gamestate=a,this.$store.dispatch("setGamestate",a),this.players=this.$store.getters.getGamestate.players,this.playedCards=this.$store.getters.getGamestate.playedCards,this.runde=this.$store.getters.getGamestate.runde,this.ownCards=this.$store.getters.getGamestate.handkarten,this.dran=this.$store.getters.getGamestate.anDerReihe,this.fuehrung=this.$store.getters.getGamestate.fuehrung,this.isStarted=this.$store.getters.getGamestate.isStarted,this.isEnded=this.$store.getters.getGamestate.isEnded,this.creator=this.$store.getters.getGamestate.creator,this.reihenfolge=this.$store.getters.getGamestate.reihenfolge,this.ansagen=this.$store.getters.getGamestate.ansagen,this.gesamtAngesagt=0,this.players.forEach((function(e){t.gesamtAngesagt+=e.angesagt})),this.ownCardsSorted=[],this.ownCards.forEach((function(e){return t.ownCardsSorted.push(e)})),this.owncardsSorted=this.sortieren(this.ownCardsSorted),this.ownCardsSortedInversed=[],this.ownCardsSorted.forEach((function(e){return t.ownCardsSortedInversed.unshift(e)})),this.platzierung=[],this.players.forEach((function(e){return t.platzierung.push({platz:0,name:e.name,punkte:e.punkte})})),this.platzierung.forEach((function(e){e.platz++,t.platzierung.forEach((function(t){e.punkte<t.punkte&&e.platz++}))}))}},logout:function(){location.reload()},startGame:function(){this.socket.emit("startgame",this.room,!0,this.username)},changeRoom:function(e){this.room=e,this.joinPossible()},toggleCreateGame:function(){this.create=!this.create},createGame:function(e){""===e.room||""===e.name?console.log("Fehler, beide Felder müssen ausgefüllt sein"):(this.possible=!0,this.socket.emit("createNewGame",e.room,e.name))},randomOrder:function(){this.socket.emit("randomOrder",this.username,this.room)},sagAn:function(e){this.socket.emit("ansagen",this.room,this.username,e)},toggleChat:function(){this.isBigChat=!this.isBigChat,console.log(this.$refs.bigChat.scrollTop),console.log(this.$refs.bigChat.scrollHeight),0!==this.$refs.bigChat.scrollHeight&&(this.$refs.bigChat.scrollTop=this.$refs.bigChat.scrollHeight)},sendChatMessage:function(){this.chatInput&&(this.socket.emit("chatMessage",this.chatInput),this.chatInput="",this.isBigChat=!1)}})},Q=Z,V=(a("8435"),a("f010"),Object(o["a"])(Q,p,g,!1,null,"65967a10",null)),X=V.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"setUsername"},[a("input",{attrs:{type:"text",name:"name",id:"name",placeholder:"dein Name",onload:"fillName()"}}),a("input",{attrs:{type:"button",value:"play"},on:{click:function(t){return e.logmein()}}})])},te=[],ae={name:"SetUsername",props:{login:Boolean},methods:{fillName:function(){localStorage&&(document.getElementById("name").value=localStorage.username)},logmein:function(){document.getElementById("name").value?(localStorage.setItem("username",document.getElementById("name").value),window.location.reload()):alert("bitte gib einen Namen ein")}}},ne=ae,se=(a("7699"),Object(o["a"])(ne,ee,te,!1,null,"03acf08e",null)),re=se.exports,oe={name:"Wuppern",data:function(){return{login:!1}},components:{Spielfeld:X,SetUsername:re},computed:{loggedIn:function(){return!!localStorage.username}}},ie=oe,ce=(a("e458"),Object(o["a"])(ie,m,h,!1,null,null,null)),le=ce.exports;n["a"].use(d["a"]);var ue=[{path:"/help",name:"Hilfe",component:function(){return a.e("about").then(a.bind(null,"c3ef"))}},{path:"/",name:"Wuppern",component:le,props:!0}],de=new d["a"]({routes:ue}),me=de,he={gamestate:{}},pe={getGamestate:function(e){return e.gamestate}},ge={setGamestate:function(e,t){e.commit("setGamestate",t)}},fe={setGamestate:function(e,t){e.gamestate=t}},ve={state:he,getters:pe,actions:ge,mutations:fe};n["a"].use(Y["a"]);var _e=new Y["a"].Store({modules:{game:ve}}),Ce=a("ecee"),be=a("c074"),ye=a("ad3d");Ce["c"].add(be["a"]),n["a"].component("fa",ye["a"]),n["a"].config.productionTip=!1,new n["a"]({router:me,store:_e,render:function(e){return e(l)}}).$mount("#app")},"67bd":function(e,t,a){"use strict";a("7fb5")},7198:function(e,t,a){},7699:function(e,t,a){"use strict";a("7198")},"7fb5":function(e,t,a){},8435:function(e,t,a){"use strict";a("2082")},"85ec":function(e,t,a){},9385:function(e,t,a){},"96fe":function(e,t,a){},"99ea":function(e,t,a){"use strict";a("3393")},a39b:function(e,t,a){"use strict";a("9385")},a9b8:function(e,t,a){"use strict";a("e01a")},b0bc:function(e,t,a){},e01a:function(e,t,a){},e458:function(e,t,a){"use strict";a("4fc5")},f010:function(e,t,a){"use strict";a("96fe")}});
//# sourceMappingURL=app.abb8c928.js.map